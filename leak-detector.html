<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Money Leak Detector</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #f7fafcff;
            font-family: Arial, sans-serif;
        }
        
        .leak-detector {
            max-width: 800px;
            margin: 20px auto;
            background: #ffffff;
            border-radius: 20px;
            padding: 30px;
            color: #333333;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            border: 1px solid #e5e5e5;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h2 {
            font-size: 2.2rem;
            margin: 0 0 10px 0;
            font-weight: bold;
            color: #333333;
        }

        .header p {
            font-size: 1.1rem;
            color: #666666;
            margin: 0;
        }

        .category-section {
            margin-bottom: 30px;
            background: #f9f9f9;
            border-radius: 15px;
            padding: 20px;
            border: 1px solid #e5e5e5;
        }

        .category-title {
            font-size: 1.4rem;
            font-weight: bold;
            color: #333333;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .category-icon {
            width: 30px;
            height: 30px;
            background: #01b85f;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .leak-item {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            padding: 12px;
            background: #ffffff;
            border-radius: 10px;
            border: 1px solid #e5e5e5;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .leak-item:hover {
            border-color: #01b85f;
            transform: translateX(5px);
        }

        .leak-item.selected {
            border-color: #01b85f;
            background: #f0f9f5;
        }

        .leak-checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid #e5e5e5;
            border-radius: 4px;
            margin-right: 15px;
            position: relative;
            transition: all 0.3s ease;
        }

        .leak-item.selected .leak-checkbox {
            background: #01b85f;
            border-color: #01b85f;
        }

        .leak-item.selected .leak-checkbox::after {
            content: '‚úì';
            position: absolute;
            top: -2px;
            left: 3px;
            color: white;
            font-size: 14px;
            font-weight: bold;
        }

        .leak-description {
            flex: 1;
            font-size: 1rem;
            color: #333333;
        }

        .analyze-btn {
            width: 100%;
            padding: 20px;
            background: #01b85f;
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.3rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin: 30px 0;
        }

        .analyze-btn:hover {
            background: #019652;
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(1, 184, 95, 0.3);
        }

        .analyze-btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
        }

        .results {
            display: none;
            margin-top: 30px;
        }

        .results.show {
            display: block;
            animation: slideIn 0.5s ease-out;
        }

        .leak-summary {
            background: #f9f9f9;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            border: 1px solid #e5e5e5;
        }

        .leak-summary h3 {
            margin-top: 0;
            color: #333333;
            font-size: 1.3rem;
        }

        .leak-totals {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }

        .total-box {
            background: #ffffff;
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #e5e5e5;
            text-align: center;
        }

        .total-label {
            font-size: 0.9rem;
            color: #666666;
            margin-bottom: 5px;
        }

        .total-amount {
            font-size: 2rem;
            font-weight: bold;
            color: #f44336;
        }

        .savings-options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .savings-option {
            background: #ffffff;
            border-radius: 15px;
            padding: 25px;
            border: 2px solid #e5e5e5;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .savings-option:hover {
            border-color: #01b85f;
        }

        .savings-option.selected {
            border-color: #01b85f;
            background: #f0f9f5;
        }

        .option-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #333333;
            margin-bottom: 10px;
        }

        .option-description {
            color: #666666;
            margin-bottom: 15px;
            line-height: 1.4;
        }

        .option-savings {
            font-size: 1.1rem;
            font-weight: bold;
            color: #01b85f;
        }

        .recommendations {
            margin-top: 25px;
            padding: 25px;
            background: #333333;
            color: white;
            border-radius: 15px;
            display: none;
        }

        .recommendations.show {
            display: block;
            animation: slideIn 0.5s ease-out;
        }

        .rec-title {
            font-size: 1.4rem;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .rec-content {
            line-height: 1.5;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            .leak-detector {
                margin: 10px;
                padding: 20px;
            }
            
            .leak-totals {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="leak-detector">
        <div class="header">
            <h2>Money Leak Detector</h2>
            <p>Discover where your money is quietly disappearing every month</p>
        </div>

        <div class="category-section">
            <div class="category-title">
                <span class="category-icon">üì∫</span>
                Streaming & Subscriptions
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'netflix', 15.49, 'monthly')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Netflix subscription</div>
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'peacock', 5.99, 'monthly')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Peacock Premium</div>
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'paramount', 5.99, 'monthly')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Paramount+</div>
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'disney', 19.99, 'monthly')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Disney+ with Hulu bundle</div>
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'hbo', 15.99, 'monthly')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">HBO Max</div>
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'prime_video', 8.99, 'monthly')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Prime Video (separate from Amazon Prime)</div>
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'amazon_prime', 14.98, 'monthly')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Amazon Prime membership</div>
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'walmart_plus', 12.95, 'monthly')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Walmart+ membership</div>
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'gym', 50, 'monthly')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Gym membership you rarely use</div>
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'magazines', 10, 'monthly')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Magazine/app subscriptions you forgot about</div>
            </div>
        </div>

        <div class="category-section">
            <div class="category-title">
                <span class="category-icon">‚òï</span>
                Food & Convenience
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'morning_coffee', 5.50, 'daily_weekday')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Buy coffee every morning Monday-Friday</div>
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'work_lunch', 16, 'daily_weekday')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Buy lunch at work Monday-Friday</div>
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'delivery', 22, 'weekly_2x')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Order delivery/DoorDash 2-3 times per week</div>
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'vending', 3, 'daily_weekday')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Vending machine snacks at work</div>
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'gas_station', 6, 'weekly_2x')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Gas station drinks/snacks during fill-ups</div>
            </div>
        </div>

        <div class="category-section">
            <div class="category-title">
                <span class="category-icon">üöó</span>
                Transportation
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'premium_gas', 6, 'weekly')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Premium gas when regular works fine</div>
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'parking', 10, 'daily_weekday')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Daily parking fees instead of walking/transit</div>
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'rideshare', 14, 'weekly_2x')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Uber/Lyft for short distances</div>
            </div>
        </div>

        <div class="category-section">
            <div class="category-title">
                <span class="category-icon">üõçÔ∏è</span>
                Shopping & Impulse
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'target_trips', 60, 'weekly_2x')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Target/Walmart "quick trips" that turn into $50+</div>
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'amazon_impulse', 25, 'weekly')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Amazon impulse purchases under $25</div>
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'pharmacy_extras', 15, 'monthly')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Pharmacy/CVS extras while picking up prescriptions</div>
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'name_brand', 35, 'monthly')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Name brand vs generic products</div>
            </div>
        </div>

        <div class="category-section">
            <div class="category-title">
                <span class="category-icon">üçª</span>
                Social & Entertainment
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'happy_hour', 40, 'weekly')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Happy hour drinks</div>
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'movie_theater', 20, 'monthly')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Movie theater vs streaming at home</div>
            </div>
            <div class="leak-item" onclick="toggleLeak(this, 'new_books', 25, 'monthly')">
                <div class="leak-checkbox"></div>
                <div class="leak-description">Buying new books instead of library/used</div>
            </div>
        </div>

        <button class="analyze-btn" onclick="analyzeLeaks()">
            Find My Money Leaks
        </button>

        <div class="results" id="results">
            <div class="leak-summary">
                <h3>Your Money Leaks by Category</h3>
                <div id="category-breakdown"></div>
            </div>
            
            <div class="leak-totals">
                <div class="total-box">
                    <div class="total-label">Weekly Leak</div>
                    <div class="total-amount" id="weekly-total">$0</div>
                </div>
                <div class="total-box">
                    <div class="total-label">Monthly Leak</div>
                    <div class="total-amount" id="monthly-total">$0</div>
                </div>
            </div>

            <h3 style="color: #333333; margin-bottom: 20px;">Choose Your Savings Strategy:</h3>
            <div class="savings-options">
                <div class="savings-option" onclick="selectOption(this, 'maximum')">
                    <div class="option-title">Save Maximum Money</div>
                    <div class="option-description">Cut out everything non-essential. Maximize your savings potential.</div>
                    <div class="option-savings" id="max-savings">Annual Savings: $0</div>
                </div>
                
                <div class="savings-option" onclick="selectOption(this, 'optimal')">
                    <div class="option-title">Optimal Money Saver</div>
                    <div class="option-description">Cut the fat while keeping things that add real value to your life.</div>
                    <div class="option-savings" id="optimal-savings">Annual Savings: $0</div>
                </div>
                
                <div class="savings-option" onclick="selectOption(this, 'none')">
                    <div class="option-title">I Don't Want to Save Money</div>
                    <div class="option-description">See what continuing these habits will cost you long-term.</div>
                    <div class="option-savings" id="no-savings">Annual Cost: $0</div>
                </div>
            </div>

            <div class="recommendations" id="recommendations">
                <div class="rec-title" id="rec-title">Your Recommendations</div>
                <div class="rec-content" id="rec-content"></div>
            </div>
        </div>
    </div>

    <script>
        let selectedLeaks = new Map();
        
        function toggleLeak(element, id, amount, frequency) {
            element.classList.toggle('selected');
            
            if (element.classList.contains('selected')) {
                selectedLeaks.set(id, { amount, frequency, element });
            } else {
                selectedLeaks.delete(id);
            }
        }
        
        function calculateMonthlyAmount(amount, frequency) {
            switch (frequency) {
                case 'daily_weekday': return amount * 5 * 4.33; // 5 days a week
                case 'weekly': return amount * 4.33;
                case 'weekly_2x': return amount * 2 * 4.33;
                case 'monthly': return amount;
                default: return amount;
            }
        }
        
        function analyzeLeaks() {
            if (selectedLeaks.size === 0) {
                alert('Please select at least one money leak to analyze.');
                return;
            }
            
            let totalMonthly = 0;
            let categoryTotals = {
                'Streaming & Subscriptions': 0,
                'Food & Convenience': 0,
                'Transportation': 0,
                'Shopping & Impulse': 0,
                'Social & Entertainment': 0
            };
            
            // Calculate totals
            selectedLeaks.forEach((leak, id) => {
                const monthlyAmount = calculateMonthlyAmount(leak.amount, leak.frequency);
                totalMonthly += monthlyAmount;
                
                // Categorize
                if (['netflix', 'peacock', 'paramount', 'disney', 'hbo', 'prime_video', 'amazon_prime', 'walmart_plus', 'gym', 'magazines'].includes(id)) {
                    categoryTotals['Streaming & Subscriptions'] += monthlyAmount;
                } else if (['morning_coffee', 'work_lunch', 'delivery', 'vending', 'gas_station'].includes(id)) {
                    categoryTotals['Food & Convenience'] += monthlyAmount;
                } else if (['premium_gas', 'parking', 'rideshare'].includes(id)) {
                    categoryTotals['Transportation'] += monthlyAmount;
                } else if (['target_trips', 'amazon_impulse', 'pharmacy_extras', 'name_brand'].includes(id)) {
                    categoryTotals['Shopping & Impulse'] += monthlyAmount;
                } else if (['happy_hour', 'movie_theater', 'new_books'].includes(id)) {
                    categoryTotals['Social & Entertainment'] += monthlyAmount;
                }
            });
            
            const weeklyTotal = totalMonthly / 4.33;
            const annualTotal = totalMonthly * 12;
            
            // Display results
            document.getElementById('weekly-total').textContent = '$' + Math.round(weeklyTotal).toLocaleString();
            document.getElementById('monthly-total').textContent = '$' + Math.round(totalMonthly).toLocaleString();
            
            // Show category breakdown
            let breakdownHTML = '';
            Object.entries(categoryTotals).forEach(([category, total]) => {
                if (total > 0) {
                    breakdownHTML += `<div style="display: flex; justify-content: space-between; margin-bottom: 10px; padding: 10px; background: white; border-radius: 8px;">
                        <span>${category}:</span>
                        <span style="font-weight: bold; color: #f44336;">$${Math.round(total).toLocaleString()}/month</span>
                    </div>`;
                }
            });
            document.getElementById('category-breakdown').innerHTML = breakdownHTML;
            
            // Calculate savings options
            const maxSavings = Math.round(annualTotal * 0.90); // Cut 90%
            const optimalSavings = Math.round(annualTotal * 0.60); // Cut 60%
            
            document.getElementById('max-savings').textContent = `Annual Savings: $${maxSavings.toLocaleString()}`;
            document.getElementById('optimal-savings').textContent = `Annual Savings: $${optimalSavings.toLocaleString()}`;
            document.getElementById('no-savings').textContent = `Annual Cost: $${Math.round(annualTotal).toLocaleString()}`;
            
            document.getElementById('results').classList.add('show');
        }
        
        function selectOption(element, option) {
            document.querySelectorAll('.savings-option').forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');
            
            const recommendations = document.getElementById('recommendations');
            const title = document.getElementById('rec-title');
            const content = document.getElementById('rec-content');
            
            if (option === 'maximum') {
                title.textContent = 'Maximum Savings Plan';
                content.innerHTML = `
                    <p><strong>What to cut:</strong> All subscription services except one, all convenience purchases, switch to meal prep and home brewing.</p>
                    <p><strong>What this gives you:</strong> You could invest this money and potentially have an extra $${Math.round(parseFloat(document.getElementById('max-savings').textContent.replace(/[^0-9]/g, '')) * 1.07 ** 10 / 1000)}K in 10 years with compound growth!</p>
                    <p><strong>Reality check:</strong> This is aggressive but will supercharge your financial goals. Perfect if you're debt-focused or saving for something big.</p>
                `;
            } else if (option === 'optimal') {
                title.textContent = 'Smart Savings Plan';
                content.innerHTML = `
                    <p><strong>Keep:</strong> 1-2 streaming services you actually use, coffee if it brings you daily joy, transportation that saves significant time.</p>
                    <p><strong>Cut:</strong> Forgotten subscriptions, impulse shopping, unnecessary convenience purchases.</p>
                    <p><strong>What this gives you:</strong> This balanced approach could give you an extra $${Math.round(parseFloat(document.getElementById('optimal-savings').textContent.replace(/[^0-9]/g, '')) / 12).toLocaleString()} per month for your financial goals without feeling deprived.</p>
                `;
            } else {
                title.textContent = 'The Cost of Doing Nothing';
                content.innerHTML = `
                    <p><strong>5-year cost:</strong> $${Math.round(parseFloat(document.getElementById('no-savings').textContent.replace(/[^0-9]/g, '')) * 5).toLocaleString()}</p>
                    <p><strong>10-year cost:</strong> $${Math.round(parseFloat(document.getElementById('no-savings').textContent.replace(/[^0-9]/g, '')) * 10).toLocaleString()}</p>
                    <p><strong>Reality:</strong> That's a car, down payment on a house, or early retirement fund just... gone. Every year you delay plugging these leaks, you're choosing convenience over your future self.</p>
                `;
            }
            
            recommendations.classList.add('show');
        }
    </script>
</body>
</html>
